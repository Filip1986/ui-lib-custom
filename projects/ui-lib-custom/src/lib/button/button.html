<button
  [ngClass]="buttonClasses()"
  [attr.type]="type()"
  [disabled]="isDisabled()"
  [attr.aria-disabled]="ariaDisabled()"
  [attr.aria-busy]="loading() ? true : null"
  [style.--uilib-button-shadow]="shadow()"
  [style.--uilib-button-shadow-hover]="shadow()"
>
  @if ((iconPosition() === 'left' || iconPosition() === 'top') && icon()) {
    <ui-lib-icon
      class="btn-icon btn-icon--start"
      [name]="icon()!"
      [size]="iconSize()"
      [variant]="variant()"
    />
  }

  <span class="btn-content">
    <ng-content />
  </span>

  @if ((iconPosition() === 'right' || iconPosition() === 'bottom') && icon()) {
    <ui-lib-icon
      class="btn-icon btn-icon--end"
      [name]="icon()!"
      [size]="iconSize()"
      [variant]="variant()"
    />
  }

  @if (loading()) {
    <ui-lib-icon class="btn-icon btn-icon--loading" [name]="loadingIcon()" [size]="iconSize()" />
  }

  @if (hasBadge()) {
    <span class="btn-badge-wrapper" [ngClass]="badgeClass()">
      <ui-lib-badge
        class="btn-badge"
        [color]="badgeColorResolved()"
        size="sm"
        variant="solid"
        [pill]="true"
      >
        {{ badge() }}
      </ui-lib-badge>
    </span>
  }
</button>
