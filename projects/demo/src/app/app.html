<div class="layout-wrapper">
  <app-topbar
    (menuButtonClick)="toggleSidebar()"
    (themeToggle)="toggleTheme()"
    (viewportToggle)="toggleViewport()"
    (loadTheme)="loadTheme($event)"
    [savedThemes]="savedThemes()"
    [theme]="theme()"
  ></app-topbar>

  <app-theme-editor></app-theme-editor>

  <div class="layout-container">
    <app-sidebar [class.mobile-visible]="sidebarVisible()"></app-sidebar>

    <div class="layout-content">
      <app-viewport-preview [active]="viewportEnabled()" (activeChange)="viewportEnabled.set($event)">
        <router-outlet></router-outlet>
      </app-viewport-preview>
    </div>
  </div>
</div>

@if (sidebarVisible()) {
  <div class="layout-mask" (click)="toggleSidebar()"></div>
}
