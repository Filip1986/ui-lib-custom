@if (showToolbar && (mode === 'inline' || activeSignal())) {
  <div class="viewport-toolbar">
    <div class="preset-buttons">
      @for (preset of presets; track preset.key) {
        <button (click)="setPreset(preset)">{{ preset.label }}</button>
      }
      <div class="custom">
        <label>Custom</label>
        <input
          type="number"
          min="200"
          max="2000"
          [ngModel]="customWidth()"
          (ngModelChange)="customWidth.set($event)"
        />
        <button (click)="setCustom()">Apply</button>
      </div>
    </div>
    <div class="controls">
      <span class="dims">{{ displayWidth() }} Ã— {{ displayHeight() }}px</span>
      <button (click)="rotate()">Rotate</button>
      @if (mode === 'floating') {
        <button (click)="toggleActive()">Close</button>
      }
    </div>
  </div>
}

<div
  class="viewport-frame"
  #frameHost
  [style.width]="autoHeight ? '100%' : displayWidth() + 'px'"
  [style.height]="autoHeight ? 'auto' : displayHeight() + 'px'"
  [style.transform]="autoHeight ? 'none' : 'scale(' + scale() + ')'"
>
  <ng-content></ng-content>
</div>

@if (mode === 'floating' && !activeSignal()) {
  <div class="viewport-launcher" (click)="toggleActive()" title="Open viewport preview">
    <i class="pi pi-desktop"></i>
  </div>
}
