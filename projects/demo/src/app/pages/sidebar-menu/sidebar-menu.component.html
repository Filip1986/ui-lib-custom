<app-doc-page-layout [sections]="sections">
  <div class="doc-header" docHeader>
    <h1>Sidebar Menu</h1>
    <p class="doc-description">
      Sidebar navigation with classic, compact, and modern variants. Supports collapse, nested items, and theming via CSS variables.
    </p>
  </div>

  <div class="doc-tabs">
    <ui-lib-tabs
      variant="minimal"
      size="small"
      [selectedValue]="activeTab()"
      (selectedChange)="onTabChange($event.value)"
    >
      <ui-lib-tab value="playground" label="Playground"></ui-lib-tab>
      <ui-lib-tab value="api-reference" label="API Reference"></ui-lib-tab>
      <ui-lib-tab value="usage" label="Usage"></ui-lib-tab>
    </ui-lib-tabs>
  </div>

  @if (activeTab() === 'playground') {
    <ui-lib-card [showHeader]="true" [showFooter]="false" id="playground" data-doc-anchor>
      <div card-header>Playground</div>
      <p class="lead">Toggle variant and collapse state to preview the sidebar menu.</p>

      <div class="controls">
        <div class="control-group">
          <div class="label">Variant</div>
          @for (v of variants; track v) {
            <button class="chip" [class.active]="variant() === v" (click)="setVariant(v)">
              {{ v }}
            </button>
          }
        </div>
        <div class="control-group toggles">
          <label><input type="checkbox" [checked]="collapsible()" (change)="collapsible.set($any($event.target).checked)"> Collapsible</label>
          <label><input type="checkbox" [checked]="collapsed()" (change)="collapsed.set($any($event.target).checked)"> Collapsed</label>
        </div>
      </div>

      <app-doc-demo-viewport>
        <div class="doc-demo">
          <div class="sidebar-preview">
            <ui-lib-sidebar-menu
              [variant]="variant()"
              [items]="items"
              [collapsed]="collapsed()"
              [collapsible]="collapsible()"
            >
              <div sidebar-brand class="brand">UI Lib</div>
              <div sidebar-footer class="footer">
                <div class="user">
                  <span class="pi pi-user"></span>
                  <span class="name">Jane Doe</span>
                </div>
                <button class="logout" type="button">Logout</button>
              </div>
            </ui-lib-sidebar-menu>
          </div>
        </div>
      </app-doc-demo-viewport>
    </ui-lib-card>
  }

  @if (activeTab() === 'api-reference') {
    <ui-lib-card [showHeader]="true" [showFooter]="false" id="api-reference" data-doc-anchor>
      <div card-header>API Reference</div>
      <table class="doc-properties">
        <thead>
          <tr>
            <th>Name</th>
            <th>Type</th>
            <th>Default</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr><td><code>variant</code></td><td><code>'classic' | 'compact' | 'modern'</code></td><td><code>'classic'</code></td><td>Visual style of the sidebar</td></tr>
          <tr><td><code>items</code></td><td><code>SidebarMenuItem[]</code></td><td><code>[]</code></td><td>Navigation tree</td></tr>
          <tr><td><code>collapsed</code></td><td><code>boolean</code></td><td><code>false</code></td><td>Collapse state</td></tr>
          <tr><td><code>collapsible</code></td><td><code>boolean</code></td><td><code>true</code></td><td>Allow user to collapse</td></tr>
        </tbody>
      </table>
    </ui-lib-card>
  }

  @if (activeTab() === 'usage') {
    <ui-lib-card [showHeader]="true" [showFooter]="false" id="usage" data-doc-anchor>
      <div card-header>Usage</div>
      <app-doc-code-snippet title="Usage" [code]="snippets.usage"></app-doc-code-snippet>
    </ui-lib-card>
  }
</app-doc-page-layout>
