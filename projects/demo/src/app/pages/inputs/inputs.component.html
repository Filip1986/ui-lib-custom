<app-doc-page-layout [sections]="sections">
  <div class="doc-header" docHeader>
    <h1>Input</h1>
    <p class="doc-description">Configure variant, type, and helpers to see the live input preview.</p>
  </div>

  <div class="doc-section" id="playground" data-doc-anchor>
    <h2>Playground</h2>

    <div class="doc-controls">
      <div class="control">
        <label>Variant</label>
        <div class="chips">
          @for (v of variants; track v) {
            <button class="chip" [class.active]="variant() === v" (click)="setVariant(v)">{{ v }}</button>
          }
        </div>
        <label class="inline-toggle"><input type="checkbox" [checked]="useGlobalVariant()" (change)="setFollowThemeVariant($any($event.target).checked)"> Follow theme variant</label>
      </div>

      <div class="control">
        <label>Type</label>
        <div class="chips">
          @for (t of types; track t) {
            <button class="chip" [class.active]="inputType() === t" (click)="setType(t)">{{ t }}</button>
          }
        </div>
      </div>

      <div class="control">
        <label>Label float</label>
        <div class="chips">
          @for (lf of labelFloats; track lf) {
            <button class="chip" [class.active]="labelFloat() === lf" (click)="setLabelFloat(lf)">{{ lf }}</button>
          }
        </div>
      </div>

      <div class="toggles">
        <label><input type="checkbox" [checked]="showCounter()" (change)="showCounter.set($any($event.target).checked)"> Show counter</label>
        <label><input type="checkbox" [checked]="showClear()" (change)="showClear.set($any($event.target).checked)"> Show clear</label>
        <label><input type="checkbox" [checked]="showToggle()" (change)="showToggle.set($any($event.target).checked)"> Password toggle</label>
        <label><input type="checkbox" [checked]="required()" (change)="required.set($any($event.target).checked)"> Required</label>
      </div>

      <div class="control">
        <label>Label</label>
        <input type="text" [value]="label()" (input)="label.set($any($event.target).value)">
      </div>

      <div class="control">
        <label>Placeholder</label>
        <input type="text" [value]="placeholder()" (input)="placeholder.set($any($event.target).value)">
      </div>
    </div>

    <app-doc-demo-viewport>
      <div class="doc-demo centered" [appThemeScope]="appliedTheme()">
        <form #demoForm="ngForm" (ngSubmit)="onSubmit(demoForm)">
          <ui-lib-input
            [variant]="variant()"
            [type]="inputType()"
            [label]="label()"
            [labelFloat]="labelFloat()"
            [placeholder]="placeholder()"
            [required]="required()"
            [showCounter]="showCounter()"
            [maxLength]="80"
            [showClear]="showClear()"
            [error]="error()"
            [ngModel]="value()"
            (ngModelChange)="value.set($event)"
            name="demoInput">
            <span prefix class="pi pi-envelope"></span>
            <span suffix class="pi pi-check"></span>
          </ui-lib-input>

          @if (inputType() === 'password') {
            <ui-lib-input
              [variant]="variant()"
              type="password"
              label="Password"
              [labelFloat]="labelFloat()"
              placeholder="Enter password"
              [showTogglePassword]="showToggle()"
              [showClear]="showClear()"
              [required]="required()"
              name="demoPassword"
              [ngModel]="password()"
              (ngModelChange)="password.set($event)">
              <span prefix class="pi pi-lock"></span>
            </ui-lib-input>
          }

          <div class="actions">
            <ui-lib-button type="submit" color="primary">Submit</ui-lib-button>
            <ui-lib-button type="button" appearance="ghost" (click)="demoForm.resetForm(); value.set(''); password.set(''); error.set('');">Reset</ui-lib-button>
          </div>
        </form>
      </div>
    </app-doc-demo-viewport>
  </div>
</app-doc-page-layout>
