<app-doc-page-layout [sections]="sections">
  <div class="doc-header" docHeader>
    <h1>Icon System</h1>
    <p class="doc-description">Semantic icons with size, variant, and button integrations plus full search.</p>
  </div>

  <div class="doc-tabs">
    <ui-lib-tabs
      variant="minimal"
      size="small"
      [selectedValue]="activeTab()"
      (selectedChange)="onTabChange($event.value)"
    >
      <ui-lib-tab value="playground" label="Playground"></ui-lib-tab>
      <ui-lib-tab value="api-reference" label="API Reference"></ui-lib-tab>
      <ui-lib-tab value="usage" label="Usage"></ui-lib-tab>
    </ui-lib-tabs>
  </div>

  @if (activeTab() === 'playground') {
    <ui-lib-card [showHeader]="true" [showFooter]="false" id="playground" data-doc-anchor>
      <div card-header>Playground</div>
      <p class="lead">Preview icon sizes, variants, buttons, alerts, and search the full icon set.</p>

      <app-doc-demo-viewport>
        <div class="doc-demo">
          <section class="demo-section">
            <h3>Icon Sizes</h3>
            <div class="icon-row">
              @for (size of sizes; track size) {
                <div class="icon-demo">
                  <ui-lib-icon name="star" [size]="size" />
                  <span>{{ size }}</span>
                </div>
              }
            </div>
          </section>

          <section class="demo-section">
            <h3>Semantic Icons by Variant</h3>
            <div class="variant-grid">
              @for (variant of variants; track variant) {
                <div class="variant-column">
                  <h4>{{ variant | titlecase }}</h4>
                  @for (icon of semanticIcons; track icon) {
                    <div class="icon-item">
                      <ui-lib-icon [name]="icon" [variant]="variant" />
                      <code>{{ icon }}</code>
                    </div>
                  }
                </div>
              }
            </div>
          </section>

          <section class="demo-section">
            <h3>Buttons with Icons</h3>
            <div class="button-row">
              <ui-lib-button icon="download">Download</ui-lib-button>
              <ui-lib-button icon="arrow-right" iconPosition="right">Next</ui-lib-button>
              <ui-lib-button icon="refresh" [loading]="loading()">
                {{ loading() ? 'Loading...' : 'Refresh' }}
              </ui-lib-button>
            </div>
          </section>

          <section class="demo-section">
            <h3>Icon Buttons</h3>
            <div class="button-row">
              @for (variant of variants; track variant) {
                <div class="icon-button-group">
                  <h4>{{ variant | titlecase }}</h4>
                  <ui-lib-icon-button icon="settings" [variant]="variant" ariaLabel="Settings" />
                  <ui-lib-icon-button icon="edit" [variant]="variant" color="primary" ariaLabel="Edit" />
                  <ui-lib-icon-button icon="delete" [variant]="variant" color="danger" ariaLabel="Delete" />
                </div>
              }
            </div>
          </section>

          <section class="demo-section">
            <h3>Alerts with Icons</h3>
            @for (severity of severities; track severity) {
              <ui-lib-alert [severity]="severity" [dismissible]="true">
                This is a {{ severity }} alert message.
              </ui-lib-alert>
            }
          </section>

          <section class="demo-section" id="icon-search" data-doc-anchor>
            <h3>Complete Icon Reference</h3>
            <div class="icon-search">
              <ui-lib-icon name="search" />
              <input type="text" placeholder="Search icons..." [value]="searchQuery()" (input)="onSearch($event)" />
            </div>
            <div class="icon-grid">
              @for (icon of filteredIcons(); track icon) {
                <button class="icon-card" type="button" (click)="copyIconName(icon)">
                  <ui-lib-icon [name]="icon" size="lg" />
                  <code>{{ icon }}</code>
                </button>
              }
            </div>
            @if (filteredIcons().length === 0) {
              <p class="empty">No icons match "{{ searchQuery() }}"</p>
            }
          </section>
        </div>
      </app-doc-demo-viewport>
    </ui-lib-card>
  }

  @if (activeTab() === 'api-reference') {
    <ui-lib-card [showHeader]="true" [showFooter]="false" id="api-reference" data-doc-anchor>
      <div card-header>API Reference</div>
      <table class="doc-properties">
        <thead>
          <tr>
            <th>Name</th>
            <th>Type</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr><td><code>name</code></td><td><code>string</code></td><td>Icon name from the set</td></tr>
          <tr><td><code>size</code></td><td><code>'xs' | 'sm' | 'md' | 'lg' | 'xl' | '2xl'</code></td><td>Icon size</td></tr>
          <tr><td><code>variant</code></td><td><code>'material' | 'bootstrap' | 'minimal'</code></td><td>Icon style variant</td></tr>
          <tr><td><code>color</code></td><td><code>string</code></td><td>Optional color token</td></tr>
        </tbody>
      </table>
    </ui-lib-card>
  }

  @if (activeTab() === 'usage') {
    <ui-lib-card [showHeader]="true" [showFooter]="false" id="usage" data-doc-anchor>
      <div card-header>Usage</div>
      <app-doc-code-snippet title="Basic icon" [code]="snippets.usage"></app-doc-code-snippet>
    </ui-lib-card>
  }
</app-doc-page-layout>
