<app-doc-page-layout [sections]="sections">
  <div class="doc-header" docHeader>
    <h1>SelectButton</h1>
    <p class="doc-description">
      Segmented button group for single or multiple selection, with size, variant, and template
      customization support.
    </p>
  </div>

  <app-code-preview [code]="selectButtonExample">
    <ui-lib-select-button [options]="basicOptions" [(value)]="basicValue" />
  </app-code-preview>

  <div class="examples">
    <section id="basic">
      <h3>Basic</h3>
      <ui-lib-card>
        <ui-lib-select-button [options]="basicOptions" [(value)]="basicValue" />
      </ui-lib-card>
    </section>

    <section id="multiple">
      <h3>Multiple Selection</h3>
      <ui-lib-card>
        <ui-lib-select-button
          [options]="multipleOptions"
          [multiple]="true"
          [(value)]="multipleValue"
        />
      </ui-lib-card>
    </section>

    <section id="custom-template">
      <h3>Custom Template</h3>
      <ui-lib-card>
        <ui-lib-select-button [options]="justifyOptions" [(value)]="justifyValue">
          <ng-template #item let-option>
            <ui-lib-inline align="center" [gap]="2">
              <ui-lib-icon [name]="option.icon" library="lucide" />
              <span class="icon-label">{{ option.label }}</span>
            </ui-lib-inline>
          </ng-template>
        </ui-lib-select-button>
      </ui-lib-card>
    </section>

    <section id="sizes">
      <h3>Sizes</h3>
      <ui-lib-card>
        <ui-lib-stack [gap]="3">
          @for (size of sizes; track size) {
            <ui-lib-select-button [options]="sizeOptions" [size]="size" [(value)]="sizeValue" />
          }
        </ui-lib-stack>
      </ui-lib-card>
    </section>

    <section id="fluid">
      <h3>Fluid</h3>
      <ui-lib-card>
        <ui-lib-select-button [options]="fluidOptions" [fluid]="true" [(value)]="fluidValue" />
      </ui-lib-card>
    </section>

    <section id="disabled">
      <h3>Disabled</h3>
      <ui-lib-grid minColumnWidth="260px" [spacing]="4">
        <ui-lib-card>
          <p class="section-label">Component Disabled</p>
          <ui-lib-select-button [options]="basicOptions" [disabled]="true" [(value)]="basicValue" />
        </ui-lib-card>
        <ui-lib-card>
          <p class="section-label">Per-Option Disabled</p>
          <ui-lib-select-button [options]="disabledOptions" [(value)]="disabledValue" />
        </ui-lib-card>
      </ui-lib-grid>
    </section>

    <section id="invalid">
      <h3>Invalid State</h3>
      <ui-lib-card>
        <ui-lib-stack [gap]="2">
          <ui-lib-select-button
            [options]="invalidOptions"
            [(value)]="invalidValue"
            [invalid]="invalidTouched && !invalidValue"
          />
          <ui-lib-inline [gap]="2" align="center">
            <ui-lib-button size="small" (click)="markInvalidTouched()">Mark Touched</ui-lib-button>
            <span class="hint">Select a value to clear invalid state.</span>
          </ui-lib-inline>
        </ui-lib-stack>
      </ui-lib-card>
    </section>

    <section id="variants">
      <h3>Variants</h3>
      <ui-lib-grid minColumnWidth="260px" [spacing]="4">
        <ui-lib-card>
          <p class="section-label">Material</p>
          <ui-lib-select-button
            [options]="variantOptions"
            variant="material"
            [(value)]="materialValue"
          />
        </ui-lib-card>
        <ui-lib-card>
          <p class="section-label">Bootstrap</p>
          <ui-lib-select-button
            [options]="variantOptions"
            variant="bootstrap"
            [(value)]="bootstrapValue"
          />
        </ui-lib-card>
        <ui-lib-card>
          <p class="section-label">Minimal</p>
          <ui-lib-select-button
            [options]="variantOptions"
            variant="minimal"
            [(value)]="minimalValue"
          />
        </ui-lib-card>
      </ui-lib-grid>
    </section>

    <section id="forms">
      <h3>Forms Integration</h3>
      <ui-lib-grid minColumnWidth="260px" [spacing]="4">
        <ui-lib-card>
          <p class="section-label">Template-driven</p>
          <ui-lib-select-button [options]="formOptions" [(ngModel)]="templateValue" />
          <p class="hint">Value: {{ templateValue }}</p>
        </ui-lib-card>
        <ui-lib-card>
          <p class="section-label">Reactive</p>
          <form [formGroup]="form">
            <ui-lib-select-button [options]="formOptions" formControlName="selection" />
          </form>
          <p class="hint">Value: {{ form.controls.selection.value }}</p>
        </ui-lib-card>
      </ui-lib-grid>
    </section>

    <section id="api">
      <h3>API Reference</h3>
      <ui-lib-card>
        <table class="api-table">
          <thead>
            <tr>
              <th>Input / Output</th>
              <th>Type</th>
              <th>Default</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>options</td>
              <td>SelectButtonOption[]</td>
              <td>[]</td>
              <td>Options to render.</td>
            </tr>
            <tr>
              <td>value</td>
              <td>any | any[] | null</td>
              <td>null</td>
              <td>Selected value(s).</td>
            </tr>
            <tr>
              <td>multiple</td>
              <td>boolean</td>
              <td>false</td>
              <td>Enable multi-select.</td>
            </tr>
            <tr>
              <td>variant</td>
              <td>material | bootstrap | minimal</td>
              <td>material</td>
              <td>Visual variant.</td>
            </tr>
            <tr>
              <td>size</td>
              <td>small | medium | large</td>
              <td>medium</td>
              <td>Size preset.</td>
            </tr>
            <tr>
              <td>disabled</td>
              <td>boolean</td>
              <td>false</td>
              <td>Disable interaction.</td>
            </tr>
            <tr>
              <td>invalid</td>
              <td>boolean</td>
              <td>false</td>
              <td>Invalid state.</td>
            </tr>
            <tr>
              <td>onChange</td>
              <td>SelectButtonChangeEvent</td>
              <td>-</td>
              <td>Emits when selection changes.</td>
            </tr>
          </tbody>
        </table>
      </ui-lib-card>
      <ui-lib-card>
        <ui-lib-stack [gap]="2">
          <h4>Usage Snippet</h4>
          <app-doc-code-snippet [code]="snippets.usage" language="ts" />
        </ui-lib-stack>
      </ui-lib-card>
    </section>
  </div>
</app-doc-page-layout>
